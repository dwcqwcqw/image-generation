# Core packages from PyPI first
runpod>=1.5.0
boto3>=1.34.0
requests>=2.31.0
Pillow>=10.0.0,<11.0.0
numpy>=1.24.0,<2.0.0
urllib3>=1.26.0,<3.0.0
psutil>=5.9.0
typing-extensions>=4.8.0
packaging>=23.0

# PyTorch with CUDA 12.1 support for RTX 5090 compatibility
--index-url https://download.pytorch.org/whl/cu121
torch==2.5.1+cu121
torchvision==0.20.1+cu121  
torchaudio==2.5.1+cu121

# Core ML libraries from PyPI (extra index)
--extra-index-url https://pypi.org/simple/
diffusers>=0.30.0
transformers>=4.40.0,<5.0.0
accelerate>=0.24.0,<0.35.0
safetensors>=0.4.0,<0.5.0
peft>=0.8.0,<0.12.0
protobuf>=3.20.0,<4.0.0
sentencepiece>=0.1.99,<0.2.0

# Additional dependencies for FLUX model
controlnet-aux>=0.0.6
opencv-python-headless>=4.8.0,<5.0.0

# Remove xformers for now due to CUDA version mismatch
# xformers>=0.0.22 