# Core packages from PyPI first
runpod>=1.6.2
boto3>=1.34.0
requests>=2.32.0
Pillow>=10.4.0
numpy>=1.24.0
urllib3>=1.26.0,<3.0.0
psutil>=5.9.0
typing-extensions>=4.8.0
packaging>=23.0

# Use PyTorch that's compatible with the base image (2.1.0)
# Note: Base image already has PyTorch 2.1.0+cu118, so we skip torch installation
# to avoid conflicts

# Core ML libraries from PyPI
diffusers>=0.30.0,<0.32.0
transformers>=4.44.0
accelerate>=0.33.0
safetensors>=0.4.3
peft>=0.8.0,<0.11.0
protobuf>=3.20.0,<4.0.0
sentencepiece>=0.1.99,<0.2.0
compel>=2.0.2,<3.0.0

# Additional dependencies for FLUX model
controlnet-aux>=0.0.6,<0.1.0
opencv-python>=4.10.0

# Face swap dependencies (will be installed if possible)
insightface>=0.7.3
onnxruntime-gpu>=1.16.0

# Pin specific versions to avoid conflicts
huggingface-hub>=0.20.0,<0.26.0
tokenizers>=0.15.0,<0.20.0
regex>=2023.10.0

# Remove PyTorch installation lines since base image provides them
# This prevents version conflicts that could cause container creation failures 